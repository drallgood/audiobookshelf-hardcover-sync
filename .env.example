# ==============================================================================
# Audiobookshelf-Hardcover Sync - Environment Variables
# ==============================================================================
# Copy this file to .env and update the values as needed.
# All variables are optional unless marked as [REQUIRED].
# Boolean values can be: true, false, 1, 0, yes, no

# ====================================
# Application Settings
# ====================================

# Application log level (debug, info, warn, error, fatal, panic, disabled)
LOG_LEVEL=info

# Enable debug mode (more verbose logging, pprof endpoints, etc.)
DEBUG=false

# Application port (default: 8080)
PORT=8080

# Path to config file (YAML or JSON format)
# If not set, environment variables will be used
# CONFIG_FILE=/path/to/config.yaml

# ====================================
# Audiobookshelf API Settings [REQUIRED]
# ====================================

# Base URL of your Audiobookshelf instance (e.g., https://abs.example.com)
AUDIOBOOKSHELF_URL=https://abs.example.com

# API token for Audiobookshelf
# Generate this in Audiobookshelf under Settings > Users > Your User > API Key
AUDIOBOOKSHELF_TOKEN=your_abs_token_here

# ====================================
# Hardcover API Settings [REQUIRED]
# ====================================

# API token for Hardcover
# Get this from your Hardcover account settings
HARDCOVER_TOKEN=your_hardcover_token_here

# ====================================
# Sync Settings
# ====================================

# Sync interval as a Go duration (e.g., 10m, 1h, 1h30m)
# If not set or empty, sync will run once and exit
SYNC_INTERVAL=1h

# Minimum progress threshold to sync books (0.0-1.0, default: 0.01 = 1%)
# Books with progress below this threshold will be skipped
MINIMUM_PROGRESS_THRESHOLD=0.01

# Sync books with 0% progress as "Want to Read" status (default: true)
SYNC_WANT_TO_READ=true

# Incremental sync mode (enabled, disabled, auto)
# - enabled: Only sync changed books
# - disabled: Always sync all books
# - auto: Let the application decide based on last sync time
INCREMENTAL_SYNC_MODE=enabled

# Path to sync state file for incremental sync (default: data/sync_state.json)
SYNC_STATE_FILE=data/sync_state.json

# Force full sync on next run (automatically resets to false after sync)
FORCE_FULL_SYNC=false

# ====================================
# Advanced Settings
# ====================================

# HTTP client timeout (default: 30s)a
# HTTP_TIMEOUT=30s

# Maximum retries for failed API requests (default: 3)
# MAX_RETRIES=3

# Retry delay between failed requests (default: 1s)
# RETRY_DELAY=1s

# ====================================
# Cache Settings
# ====================================

# Cache TTL (Time To Live) for API responses (default: 1h)
# CACHE_TTL=1h

# Cache type (memory, redis, none)
# CACHE_TYPE=memory

# Redis connection URL (if using Redis cache)
# REDIS_URL=redis://redis:6379/0

# ====================================
# Monitoring & Metrics
# ====================================

# Enable Prometheus metrics endpoint (default: true)
# ENABLE_METRICS=true

# Metrics endpoint path (default: /metrics)
# METRICS_PATH=/metrics

# ====================================
# Development Settings
# ====================================

# Enable development mode (more verbose output, etc.)
# DEV_MODE=false

# Enable Go profiler endpoints (for debugging)
# ENABLE_PPROF=false
